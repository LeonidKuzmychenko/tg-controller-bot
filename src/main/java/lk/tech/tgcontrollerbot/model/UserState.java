package lk.tech.tgcontrollerbot.model;

/**
 * Перечисление состояний диалога с пользователем в процессе регистрации.
 * <p>
 * Реализует паттерн State Machine для управления процессом регистрации.
 * Каждое состояние определяет, какой тип данных ожидается от пользователя
 * и как должен обрабатываться следующий ввод.
 * <p>
 * Последовательность состояний:
 * IDLE → ASKING_NAME → ASKING_AGE → ASKING_GENDER → COMPLETED
 * <p>
 * Принципы:
 * - Type Safety: использование enum вместо строк предотвращает ошибки
 * - State Machine: четко определенные состояния и переходы
 * - Open/Closed: легко добавлять новые состояния без изменения существующего кода
 *
 * @author Cursor Telegram Bot
 * @version 1.0
 */
public enum UserState {

    /**
     * Ожидание команды начала регистрации.
     * <p>
     * Пользователь еще не начал процесс регистрации.
     * Ожидается команда /start или /register.
     */
    IDLE,

    /**
     * Запрос имени пользователя.
     * <p>
     * Пользователь начал регистрацию, ожидается ввод имени.
     * Имя валидируется на длину и непустоту.
     */
    ASKING_NAME,

    /**
     * Запрос возраста пользователя.
     * <p>
     * Имя уже введено, ожидается ввод возраста.
     * Возраст валидируется на диапазон от 1 до 150 лет.
     */
    ASKING_AGE,

    /**
     * Запрос пола пользователя.
     * <p>
     * Имя и возраст уже введены, ожидается ввод пола.
     * Пол нормализуется к "Мужской" или "Женский".
     */
    ASKING_GENDER,

    /**
     * Регистрация завершена.
     * <p>
     * Все данные собраны и сохранены.
     * Пользователь может просмотреть данные через /status
     * или начать новую регистрацию через /start.
     */
    COMPLETED
}
